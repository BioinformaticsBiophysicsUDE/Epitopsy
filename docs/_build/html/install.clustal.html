

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Clustal Omega — Multiple Sequence Alignment &mdash; epitopsy 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="top" title="epitopsy 0.1 documentation" href="index.html" />
    <link rel="up" title="Installing third-party softwares" href="install.index.html" />
    <link rel="next" title="PDB2PQR — Generation of PQR files" href="install.pdb2pqr.html" />
    <link rel="prev" title="Installing third-party softwares" href="install.index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.pdb2pqr.html" title="PDB2PQR — Generation of PQR files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.index.html" title="Installing third-party softwares"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">epitopsy 0.1 documentation</a> &raquo;</li>
          <li><a href="quickstart.html" >Getting Started</a> &raquo;</li>
          <li><a href="install.index.html" accesskey="U">Installing third-party softwares</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="clustal-omega-multiple-sequence-alignment">
<h1>Clustal Omega &#8212; Multiple Sequence Alignment<a class="headerlink" href="#clustal-omega-multiple-sequence-alignment" title="Permalink to this headline">¶</a></h1>
<p>Biopython provides several modules to perform a Multiple Sequence Alignment
(MSA) using the command line versions of various MSA softwares. The module
<tt class="xref py py-mod docutils literal"><span class="pre">Bio.Align.Applications.ClustalwCommandline</span></tt> is an example of module
based on the Clustal family of MSA softwares. It currently supports various
releases of Clustal, including ClustalX, ClustalW, ClustalW2 and Clustal
Omega. For non-challenging MSAs, running a local copy of the Clustal software
can be more efficient than using the online website.</p>
<p>All Clustal releases can be run from the shell, but when Biopython is used
extensively, it may prove useful to integrate such MSAs in the python shell
itself. Clustal can be invoked at any time using the subprocess module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span><span class="p">[</span><span class="s">&#39;LD_LIBRARY_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;/usr/local/lib&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seq</span> <span class="o">=</span> <span class="s">&quot;/path/seq.fasta&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msa</span> <span class="o">=</span> <span class="s">&quot;/path/msa.fasta&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s">&#39;clustalo -i {0} --infmt=fa -o {1} --force&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">msa</span><span class="p">),</span><span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
</pre></div>
</div>
<p>Biopython already provides a module for this task, so you don&#8217;t have to
memorize the exact syntax of Clustal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">Bio.Align.Applications</span> <span class="kn">import</span> <span class="n">ClustalOmegaCommandline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span><span class="p">[</span><span class="s">&#39;LD_LIBRARY_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;/usr/local/lib&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seq</span> <span class="o">=</span> <span class="s">&quot;/path/seq.fasta&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msa</span> <span class="o">=</span> <span class="s">&quot;/path/msa.fasta&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">clustalo_cline</span> <span class="o">=</span> <span class="n">ClustalOmegaCommandline</span><span class="p">(</span><span class="n">infile</span><span class="o">=</span><span class="n">seq</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="n">msa</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">auto</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span> <span class="o">=</span> <span class="n">clustalo_cline</span><span class="p">()</span>
<span class="go">TODO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">clustalo_cline</span><span class="p">),</span><span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">)</span>
<span class="go">Using 4 threads</span>
<span class="go">Read 2 sequences (type: Protein) from /path/seq.fasta</span>
<span class="go">not more sequences (2) than cluster-size (100), turn off mBed</span>
<span class="go">Setting options automatically based on input sequence characteristics (might overwrite some of your options).</span>
<span class="go">Auto settings: Enabling mBed.</span>
<span class="go">Auto settings: Setting iteration to 1.</span>
<span class="go">Progressive alignment progress: 100 % (1 out of 1)</span>
<span class="go">Progressive alignment progress done. CPU time: 0.00u 0.00s 00:00:00.00 Elapsed: 00:00:00</span>
<span class="go">Iteration step 1 out of 1</span>
<span class="go">Computing new guide tree (iteration step 1148585808)</span>
<span class="go">Computing HMM from alignment</span>
<span class="go">Progressive alignment progress: 100 % (1 out of 1)</span>
<span class="go">Progressive alignment progress done. CPU time: 0.02u 0.00s 00:00:00.02 Elapsed: 00:00:00</span>
<span class="go">Alignment written to /path/msa.fasta</span>
<span class="go">0</span>
</pre></div>
</div>
<div class="section" id="installation-procedure">
<h2>Installation procedure<a class="headerlink" href="#installation-procedure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-the-impatients">
<h3>For the impatients<a class="headerlink" href="#for-the-impatients" title="Permalink to this headline">¶</a></h3>
<p>Open a shell and type:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget sourceforge.net/projects/argtable/files/argtable/argtable-2.13/argtable2-13.tar.gz
tar xfz argtable2-13.tar.gz
<span class="nb">cd </span>argtable2-13/
./configure
make
sudo make install
make clean; <span class="nb">cd</span> ..; rm -rf argtable2-13/ argtable2-13.tar.gz
wget http://www.clustal.org/omega/clustal-omega-1.2.0.tar.gz
tar xfz clustal-omega-1.2.0.tar.gz
<span class="nb">cd </span>clustal-omega-1.2.0/
./configure
make
sudo make install
make clean; <span class="nb">cd</span> ..; rm -rf clustal-omega-1.2.0/ clustal-omega-1.2.0.tar.gz
</pre></div>
</div>
</div>
<div class="section" id="step-by-step-installation">
<h3>Step-by-step installation<a class="headerlink" href="#step-by-step-installation" title="Permalink to this headline">¶</a></h3>
<p>First, we need to install Argtable:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd </span>Downloads/
wget sourceforge.net/projects/argtable/files/argtable/argtable-2.13/argtable2-13.tar.gz
tar xvfz argtable2-13.tar.gz
<span class="nb">cd </span>argtable2-13/
./configure
make
make check
sudo make install
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">make</span> <span class="pre">check</span></tt> command should print this message:</p>
<div class="highlight-bash"><div class="highlight"><pre>./test_file.sh TESTS PASSED
----------------------------------
PASS: test_file.sh
<span class="o">==================</span>
All 5 tests <span class="nv">passed</span>
<span class="o">==================</span>
</pre></div>
</div>
<p>Check with <tt class="docutils literal"><span class="pre">ls</span> <span class="pre">/usr/local/lib</span></tt> that following files were correctly created:</p>
<div class="highlight-bash"><div class="highlight"><pre>libargtable2.a   libargtable2.so    libargtable2.so.0.1.8
libargtable2.la  libargtable2.so.0  <span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
<p>You can now remove the install files and the archive:</p>
<div class="highlight-bash"><div class="highlight"><pre>make clean
<span class="nb">cd</span> ..
rm -rf argtable2-13/ argtable2-13.tar.gz
</pre></div>
</div>
<p>At this point, you would have to export LD_LIBRARY_PATH everytime you use
Clustal Omega to gain access to <tt class="docutils literal"><span class="pre">libargtable2.so.0</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/usr/local/lib
<span class="nb">export </span>LD_LIBRARY_PATH <span class="c"># libargtable2.so.0 is now available in your shell</span>
</pre></div>
</div>
<p>Alternatively, you may add this export command into your local .bashrc:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">echo</span> -e <span class="s1">&#39;\n# added by $(whoami) for libargtable2.so.0&#39;</span> &gt;&gt; ~/.bashrc
<span class="nb">echo</span> <span class="s1">&#39;export LD_LIBRARY_PATH=&quot;/usr/local/lib&quot;&#39;</span> &gt;&gt; ~/.bashrc
</pre></div>
</div>
<p>Next, we need to install Clustal Omega:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd </span>Downloads/
wget http://www.clustal.org/omega/clustal-omega-1.2.0.tar.gz
tar xvfz clustal-omega-1.2.0.tar.gz
<span class="nb">cd </span>clustal-omega-1.2.0/
./configure
make
make check
sudo make install
make installcheck
make clean
</pre></div>
</div>
<p>You may get warnings of the type &#8220;warning: ISO C++ does not support
variable-length array types [-Wvla]&#8221;, but these can be ignored. Now check that
the shell command <tt class="docutils literal"><span class="pre">clustalo</span> <span class="pre">--version</span></tt> outputs <tt class="docutils literal"><span class="pre">1.2.0</span></tt>, and remove the
installation files and the archive:</p>
<div class="highlight-bash"><div class="highlight"><pre>make clean
<span class="nb">cd</span> ..
rm -rf clustal-omega-1.2.0/ clustal-omega-1.2.0.tar.gz
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Clustal Omega &#8212; Multiple Sequence Alignment</a><ul>
<li><a class="reference internal" href="#installation-procedure">Installation procedure</a><ul>
<li><a class="reference internal" href="#for-the-impatients">For the impatients</a></li>
<li><a class="reference internal" href="#step-by-step-installation">Step-by-step installation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.index.html"
                        title="previous chapter">Installing third-party softwares</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="install.pdb2pqr.html"
                        title="next chapter">PDB2PQR &#8212; Generation of PQR files</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/install.clustal.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="install.pdb2pqr.html" title="PDB2PQR — Generation of PQR files"
             >next</a> |</li>
        <li class="right" >
          <a href="install.index.html" title="Installing third-party softwares"
             >previous</a> |</li>
        <li><a href="index.html">epitopsy 0.1 documentation</a> &raquo;</li>
          <li><a href="quickstart.html" >Getting Started</a> &raquo;</li>
          <li><a href="install.index.html" >Installing third-party softwares</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2014, Christoph Wilms.
      Last updated on Jan 08, 2014.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>